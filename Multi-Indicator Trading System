Multi-Indicator Trading System

Three part indicator combined into one with a checklist table for visualization.

You get three alert types:

BUY SIGNAL: All conditions aligned for long entry!
SELL SIGNAL: All conditions aligned for short entry! as well as a
ANY SIGNAL setting ‚ö†Ô∏è TRADING SIGNAL: Check chart for details!

This indicator works on all products and on your preferred timeframe.

This indicator combines 3 published indicators into one:
Supertrend - KivancOzbilgic

QQE MOD - Mihkel00

RSI + ADX + ATR Strength Gauge - jaredskii


Below are the new signal requirements to receive an alert:

BUY Signal - ALL of these must be true:

‚úÖ Supertrend flips from bearish to bullish
‚úÖ ADX > threshold (strong trend present)
‚úÖ +DI > -DI (bullish directional movement)
‚úÖ QQE shows bullish momentum confirmation

SELL Signal - ALL of these must be true:

‚úÖ Supertrend flips from bullish to bearish
‚úÖ ADX > threshold (strong trend present)
‚úÖ -DI > +DI (bearish directional movement)
‚úÖ QQE shows bearish momentum confirmation

DISCLAIMER: Apply risk management and conduct your own analysis to agree with the parameters provided in this script.

Hope you enjoy.


// This Pine Script¬Æ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// ¬© UN1TED

//@version=6
indicator("Multi-Indicator Trading System", overlay=true)

// ========================================
// INPUTS
// ========================================
// RSI + ADX + ATR Settings
group_strength = "Trend Strength (RSI/ADX/ATR)"
rsiLen = input.int(14, "RSI Length", group=group_strength)
adxLen = input.int(14, "ADX Length", group=group_strength)
adxThresh = input.float(20.0, "ADX Threshold", step=0.5, group=group_strength)
atrLen = input.int(4, "ATR Length", group=group_strength)

// Supertrend Settings
group_super = "Supertrend"
atrPeriod = input.int(2, title="ATR Period", group=group_super)
stSource = input.source(hl2, title="Source", group=group_super)
atrMultiplier = input.float(1.0, title="ATR Multiplier", step=0.1, group=group_super)
useBuiltInAtr = input.bool(true, title="Use Built-in ATR", group=group_super)

// QQE Settings
group_qqe = "QQE MOD"
rsiLengthPrimary = input.int(6, title="Primary RSI Length", group=group_qqe)
rsiSmoothingPrimary = input.int(5, title="Primary RSI Smoothing", group=group_qqe)
qqeFactorPrimary = input.float(3.0, title="Primary QQE Factor", group=group_qqe)
bollingerLength = input.int(50, title="Bollinger Length", group=group_qqe)
bollingerMultiplier = input.float(0.35, title="Bollinger Multiplier", step=0.1, group=group_qqe)

rsiLengthSecondary = input.int(6, title="Secondary RSI Length", group=group_qqe)
rsiSmoothingSecondary = input.int(5, title="Secondary RSI Smoothing", group=group_qqe)
qqeFactorSecondary = input.float(1.61, title="Secondary QQE Factor", group=group_qqe)
thresholdSecondary = input.float(3.0, title="Secondary Threshold", group=group_qqe)

// Signal Settings
group_signal = "Signal Settings"
showLabels = input.bool(true, "Show Buy/Sell Labels", group=group_signal)

// ========================================
// RSI + ADX CALCULATIONS
// ========================================
rsi = ta.rsi(close, rsiLen)

tr = math.max(high - low, math.max(math.abs(high - close[1]), math.abs(low - close[1])))
upMove = high - high[1]
downMove = low[1] - low
plusDM = (upMove > downMove and upMove > 0) ? upMove : 0.0
minusDM = (downMove > upMove and downMove > 0) ? downMove : 0.0
smTR = ta.rma(tr, adxLen)
smPlus = ta.rma(plusDM, adxLen)
smMinus = ta.rma(minusDM, adxLen)
plusDI = smTR > 0 ? 100 * (smPlus / smTR) : 0.0
minusDI = smTR > 0 ? 100 * (smMinus / smTR) : 0.0
dx = (plusDI + minusDI) > 0 ? 100 * math.abs(plusDI - minusDI) / (plusDI + minusDI) : 0.0
adx = ta.rma(dx, adxLen)

strongTrend = adx > adxThresh
bullishTrend = plusDI > minusDI
bearishTrend = minusDI > plusDI

// ========================================
// SUPERTREND CALCULATIONS
// ========================================
trueRange = ta.tr
atrSma = ta.sma(trueRange, atrPeriod)
atrValue = useBuiltInAtr ? ta.atr(atrPeriod) : atrSma

upperBand = stSource - (atrMultiplier * atrValue)
upperBandPrev = nz(upperBand[1], upperBand)
upperBand := close[1] > upperBandPrev ? math.max(upperBand, upperBandPrev) : upperBand

lowerBand = stSource + (atrMultiplier * atrValue)
lowerBandPrev = nz(lowerBand[1], lowerBand)
lowerBand := close[1] < lowerBandPrev ? math.min(lowerBand, lowerBandPrev) : lowerBand

trend = 1
trend := nz(trend[1], trend)
trend := trend == -1 and close > lowerBandPrev ? 1 : trend == 1 and close < upperBandPrev ? -1 : trend

supertrendBuy = trend == 1 and trend[1] == -1
supertrendSell = trend == -1 and trend[1] == 1

// Plot Supertrend
plot(trend == 1 ? upperBand : na, "Supertrend Up", style=plot.style_linebr, linewidth=2, color=color.green)
plot(trend == -1 ? lowerBand : na, "Supertrend Down", style=plot.style_linebr, linewidth=2, color=color.red)

// ========================================
// QQE CALCULATIONS
// ========================================
calculateQQE(rsiLength, smoothingFactor, qqeFactor, source) =>
    wildersLength = rsiLength * 2 - 1
    rsiCalc = ta.rsi(source, rsiLength)
    smoothedRsi = ta.ema(rsiCalc, smoothingFactor)
    atrRsi = math.abs(smoothedRsi[1] - smoothedRsi)
    smoothedAtrRsi = ta.ema(atrRsi, wildersLength)
    dynamicAtrRsi = smoothedAtrRsi * qqeFactor

    longBand = 0.0
    shortBand = 0.0
    trendDirection = 0

    atrDelta = dynamicAtrRsi
    newShortBand = smoothedRsi + atrDelta
    newLongBand = smoothedRsi - atrDelta
    longBand := smoothedRsi[1] > longBand[1] and smoothedRsi > longBand[1] ? math.max(longBand[1], newLongBand) : newLongBand
    shortBand := smoothedRsi[1] < shortBand[1] and smoothedRsi < shortBand[1] ? math.min(shortBand[1], newShortBand) : newShortBand
    
    if ta.cross(smoothedRsi, shortBand[1])
        trendDirection := 1
    else if ta.cross(longBand[1], smoothedRsi)
        trendDirection := -1
    else
        trendDirection := trendDirection[1]

    qqeTrendLine = trendDirection == 1 ? longBand : shortBand
    [qqeTrendLine, smoothedRsi]

[primaryQQETrendLine, primaryRSI] = calculateQQE(rsiLengthPrimary, rsiSmoothingPrimary, qqeFactorPrimary, close)
[secondaryQQETrendLine, secondaryRSI] = calculateQQE(rsiLengthSecondary, rsiSmoothingSecondary, qqeFactorSecondary, close)

bollingerBasis = ta.sma(primaryQQETrendLine - 50, bollingerLength)
bollingerDeviation = bollingerMultiplier * ta.stdev(primaryQQETrendLine - 50, bollingerLength)
bollingerUpper = bollingerBasis + bollingerDeviation
bollingerLower = bollingerBasis - bollingerDeviation

qqeBullish = secondaryRSI - 50 > thresholdSecondary and primaryRSI - 50 > bollingerUpper
qqeBearish = secondaryRSI - 50 < -thresholdSecondary and primaryRSI - 50 < bollingerLower

// ========================================
// COMBINED SIGNALS - ALL MUST ALIGN
// ========================================
// Buy Signal: ALL indicators must signal buy
// 1. Supertrend turns bullish
// 2. ADX shows strong trend + bullish direction (+DI > -DI)
// 3. QQE shows bullish momentum
buyCondition = supertrendBuy and strongTrend and bullishTrend and qqeBullish

// Sell Signal: ALL indicators must signal sell
// 1. Supertrend turns bearish
// 2. ADX shows strong trend + bearish direction (-DI > +DI)
// 3. QQE shows bearish momentum
sellCondition = supertrendSell and strongTrend and bearishTrend and qqeBearish

// ========================================
// VISUAL SIGNALS
// ========================================
plotshape(buyCondition and showLabels, "Buy Signal", shape.labelup, location.belowbar, color.new(color.green, 0), text="BUY", textcolor=color.white, size=size.normal)
plotshape(sellCondition and showLabels, "Sell Signal", shape.labeldown, location.abovebar, color.new(color.red, 0), text="SELL", textcolor=color.white, size=size.normal)

// Background coloring
bgcolor(buyCondition ? color.new(color.green, 90) : sellCondition ? color.new(color.red, 90) : na, title="Signal Background")

// ========================================
// ALERTS
// ========================================
alertcondition(buyCondition, title="Buy Signal", message="üü¢ BUY SIGNAL: All conditions aligned for long entry!")
alertcondition(sellCondition, title="Sell Signal", message="üî¥ SELL SIGNAL: All conditions aligned for short entry!")
alertcondition(buyCondition or sellCondition, title="Any Signal", message="‚ö†Ô∏è TRADING SIGNAL: Check chart for details!")

// ========================================
// DASHBOARD (Optional Info Label)
// ========================================
var table dashboard = table.new(position.top_right, 2, 6, border_width=1)
if barstate.islast
    table.cell(dashboard, 0, 0, "Indicator", text_color=color.white, bgcolor=color.new(color.gray, 30))
    table.cell(dashboard, 1, 0, "Status", text_color=color.white, bgcolor=color.new(color.gray, 30))
    
    table.cell(dashboard, 0, 1, "Supertrend", text_color=color.white)
    table.cell(dashboard, 1, 1, trend == 1 ? "Bullish" : "Bearish", text_color=trend == 1 ? color.green : color.red)
    
    table.cell(dashboard, 0, 2, "ADX", text_color=color.white)
    table.cell(dashboard, 1, 2, str.tostring(adx, "#.##") + (strongTrend ? " ‚úì" : ""), text_color=strongTrend ? color.green : color.orange)
    
    table.cell(dashboard, 0, 3, "Trend Dir", text_color=color.white)
    table.cell(dashboard, 1, 3, bullishTrend ? "Bullish" : "Bearish", text_color=bullishTrend ? color.green : color.red)
    
    table.cell(dashboard, 0, 4, "QQE", text_color=color.white)
    table.cell(dashboard, 1, 4, qqeBullish ? "Bullish" : qqeBearish ? "Bearish" : "Neutral", text_color=qqeBullish ? color.green : qqeBearish ? color.red : color.gray)
    
    table.cell(dashboard, 0, 5, "Signal", text_color=color.white, bgcolor=color.new(color.blue, 50))
    table.cell(dashboard, 1, 5, buyCondition ? "BUY" : sellCondition ? "SELL" : "None", text_color=buyCondition ? color.green : sellCondition ? color.red : color.gray, bgcolor=color.new(color.blue, 50))
